<mat-accordion>
	@for(config of cssConfigService.cssConfig(); track config.section){
	<mat-expansion-panel>
		<mat-expansion-panel-header [matTooltip]="'Expand '+config.section+' section'">
			<mat-panel-title>
				<mat-icon>{{config.icon}}</mat-icon> {{config.section}}
			</mat-panel-title>
			<mat-panel-description>
				{{config.summary}}
			</mat-panel-description>
		</mat-expansion-panel-header>
		<div class="panel-content flex-column">
			@for(property of config.properties; track property.name){
			<div class="input-container flex-row space_between middle" [class.nested]="property.type === 'custom'">
				<p> {{property.label}} </p>
				@switch (property.type) {
				@case ('color') {
				<input type="color" class="input-color" [(ngModel)]="property.value" [matTooltip]="property.tooltip"
					(ngModelChange)="updateProperty(property, config.section)" />
				}
				@case ('custom') {
				<app-custom-input-fields [properties]="property.props" [section]="config.section"
					[nestedProperty]="property.name" />
				}
				@case ('text') {
				<input type="text" [(ngModel)]="property.value" [matTooltip]="property.tooltip"
					(ngModelChange)="updateProperty(property, config.section)" />
				}
				@case ('select') {
				<select class="input-select" [(ngModel)]="property.value" [matTooltip]="property.tooltip"
					(ngModelChange)="updateProperty(property, config.section)">
					@for (option of property?.options; track option) {
					<option [value]="option">{{ option }}</option>
					}
				</select>
				}
				@case ('toggle') {
				toggle input
				}
				@case ('number') {
				<div class="number-control flex-row">
					<button class="btn" (click)="decrease(property, config.section )" matTooltip="Decrease">â€“</button>
					<input type="number" [(ngModel)]="property.value" [matTooltip]="property.tooltip"
						(ngModelChange)="updateProperty(property, config.section)" />
					<button class="btn" (click)="increase(property, config.section)" matTooltip="Increase">+</button>
				</div>
				}
				}
			</div>
			@if(property.divider){
			<div class="divider">
				<span>Or</span>
			</div>
			}
			}
		</div>
	</mat-expansion-panel>
	}
</mat-accordion>